<!DOCTYPE html>
<html>
  <head>
    <title>Example Single Page App</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script type="module">
      import { Router } from './router.js';
      import { ReactMicroRouter, navigate } from './reactmicrorouter.js';
      import { routes } from './routes.js';

      const router = new Router(routes);

      const resolve = path => {
        const r = router.route(path);
        if (r === null)
          return React.createElement('div', null, `Not found`);
        return React.createElement('div', null, `Hello World: ${path}`);
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(React.createElement(ReactMicroRouter, {resolve, react: React}, null));
      navigate("/customers/settings");
    </script>
  </head>
  <body>
    <h2>Choose a link:</h2>
    <ul>
      <li><a href="/customers/login">Customer login</a></li>
      <li><a href="/customers/settings">Customer settings</a></li>
      <li><a href="/managers/login">Manager login</a></li>
      <li><a href="/managers/settings">Manager settings</a></li>
      <li><a href="/bad/url">Bad URL</a></li>
    </ul>

    <h2>Routed component 1</h2>
    <div id="root">
    </div>
  </body>
</html>
